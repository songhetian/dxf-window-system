# 雷犀系统开发规范 (DXF Window System)

## UI 交互性能标准
- **高频事件处理**：所有触发重绘或大量计算的高频事件（如 `onMouseMove`, `onWheel`, `onScroll`）必须使用 `requestAnimationFrame` (rAF) 进行调度，确保渲染与屏幕刷新率同步。
- **输入响应优化**：
    - **搜索过滤**：所有实时搜索框必须实现防抖 (Debounce) 机制，默认延迟为 300ms。
    - **状态同步**：频繁触发的状态更新（如解析进度、大量数据同步）必须实现节流 (Throttle) 机制，更新频率不得高于 100ms/次。
- **Canvas 性能优化**：
    - 渲染大型矢量图时，必须开启 `alpha: false` 提升像素填充效率。
    - 绘图逻辑必须按路径颜色或样式进行分组 (Batching)，减少 `ctx.stroke()` 或 `ctx.fill()` 的调用次数。

## 布局标准
- **搜索筛选区域**：必须实现“单行全铺满、自适应比例 (flex-grow)”布局。
- **日期组件**：快捷日期按钮组必须物理缝合在同一行内或紧贴其下，高度统一为 44px，边框颜色严格锁定为 `1px slate-500 (#64748b)`。点击快捷日期必须实现即时搜索联动。

## 数据库规范
- 任何涉及多图纸或历史记录的功能，必须建立 `drawings` 与 `windows` 的外键关联。
- 导入新图纸时，必须提供清晰的“预览-确认-保存”工作流，而非直接覆盖。
